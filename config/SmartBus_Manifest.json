{
  "smartbus": {
    "devices": {
      "47000": {
        "name": "smartspine_v1",
        "role": "mag_spine",
        "i2c_addresses": [48],

        "provides": ["ammo_level", "mag_id"],
        "consumes": ["fire_mode", "blaster_state"],

        "routes": {
          "to_firing_system": ["ammo_level"],
          "to_display": ["ammo_level", "mag_id"],
          "to_device": []
        }
      },

      "22000": {
        "name": "smartmag_v1",
        "role": "mag",
        "i2c_addresses": [49],

        "provides": ["ammo_level", "mag_id"],
        "consumes": ["fire_mode", "blaster_state"],

        "routes": {
          "to_firing_system": ["ammo_level"],
          "to_display": ["ammo_level", "mag_id"],
          "to_device": []
        }
      },

      "33000": {
        "name": "barrel_chrono_v1",
        "role": "barrel",
        "i2c_addresses": [80],

        "provides": ["muzzle_velocity"],
        "consumes": ["fire_mode", "blaster_state"],

        "routes": {
          "to_firing_system": [],
          "to_display": ["muzzle_velocity"],
          "to_device": ["blaster_state"]
        }
      },

      "4700": {
        "name": "power_only",
        "role": "power_only",
        "i2c_addresses": [],

        "provides": [],
        "consumes": [],

        "routes": {
          "to_firing_system": [],
          "to_display": [],
          "to_device": []
        }
      }
    },

    "defaults": {
      "mag_role_priority": ["mag", "mag_spine"],
      "max_devices": 4
    }
  }
}
